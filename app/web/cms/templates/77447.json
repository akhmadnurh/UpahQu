{"content":{"type":"API","structure":"","server_on_load":"async ({\n  template,\n  params,\n  render,\n  db,\n  req,\n  reply,\n  user,\n  log,\n  ext,\n  isDev,\n}: Server) => {\n  const { id_parameter, id_pengguna, prev_checked } = req.body;\n  let checked;\n  if (prev_checked == true) {\n    // Get id\n    const id = await db.karyawan_parameter_penggajian.findFirst({\n      where: {\n        id_parameter: parseInt(id_parameter),\n        id_karyawan: parseInt(id_pengguna),\n      },\n    });\n    // Remove data\n    checked = await db.karyawan_parameter_penggajian.deleteMany({\n      where: {\n        id_parameter: parseInt(id_parameter),\n        id_karyawan: parseInt(id_pengguna),\n      },\n    });\n  } else {\n    // Add data\n    checked = await db.karyawan_parameter_penggajian.create({\n      data: {\n        id_parameter: parseInt(id_parameter),\n        id_karyawan: parseInt(id_pengguna),\n      },\n    });\n  }\n  reply.send({\n    status: checked ? \"success\" : \"error\",\n  })\n}","figma":{}},"title":"check-parameter","type":"cms-template","lang":"","status":"SYSTEM","parent_id":"07087","slug":"/api/check-parameter","site":"*","id":"77447"}