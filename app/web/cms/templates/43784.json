{"title":"delete-parameter-penggajian","type":"cms-template","lang":"","status":"SYSTEM","parent_id":"07087","content":{"type":"API","structure":"","server_on_load":"async ({\n  template,\n  params,\n  render,\n  db,\n  req,\n  reply,\n  user,\n  log,\n  ext,\n  isDev,\n}: Server) => {\n  const { id_parameter } = req.body;\n  // Remove parameter relation\n  const removeParamRelation = await db.karyawan_parameter_penggajian.deleteMany(\n    {\n      where: {\n        id_parameter: parseInt(id_parameter),\n      },\n    }\n  );\n\n  if (removeParamRelation) {\n    // Remove parameter\n    const removeParameter = await db.parameter_penggajian.delete({\n      where: {\n        id_parameter: parseInt(id_parameter),\n      },\n    });\n    reply.send({\n      status: removeParameter ? \"success\" : \"error-delete\",\n    });\n  } else {\n    reply.send({\n      status: \"error-relation\",\n    });\n  }\n}","figma":{}},"slug":"/api/d-prm-penggajian","site":"*","id":"43784"}