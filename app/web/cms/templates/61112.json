{"content":{"type":"API","structure":"","server_on_load":"async ({\n  template,\n  params,\n  render,\n  db,\n  req,\n  reply,\n  user,\n  log,\n  ext,\n  isDev,\n}: Server) => {\n  const { id_jabatan } = req.body;\n  // Cek jika ada karyawan yang berada pada jabatan ini\n  const cek_jabatan = await db.pengguna.count({\n    where: {\n      id_jabatan: parseInt(id_jabatan),\n    },\n  });\n  if (cek_jabatan > 0) {\n    reply.send({\n      status: \"error-karyawan-tersedia\",\n    });\n  } else {\n    const r_jabatan = await db.jabatan.delete({\n      where: {\n        id_jabatan: parseInt(id_jabatan),\n      },\n    });\n    reply.send({\n      status: r_jabatan ? \"success\" : \"error\",\n    });\n  }\n}","figma":{}},"title":"delete-jabatan","type":"cms-template","lang":"","status":"SYSTEM","parent_id":"07087","slug":"/api/d-jabatan","site":"*","id":"61112"}